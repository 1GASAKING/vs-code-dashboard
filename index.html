<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Sixth Dashboard</title>
    <link type="" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Macondo&family=Odibee+Sans&family=Space+Grotesk:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
  </head>
  <body>
    <main>
      <div>
        <h1 class="headerText">settings</h1>
        <h2 class="sub">
          you can manage your account, billing and team settings here .
        </h2>
      </div>
      <div class="content">
        <div class="left">
          <div class="section">
            <span>
              <h1>Basic information</h1>
              <div class="nameIcon"><span> a </span></div></span
            >
            <span>
              <p>Name</p>
              <p class="field">a</p>
            </span>
            <span>
              <p>Email</p>
              <p class="field">a</p>
            </span>
          </div>

          <div class="section">
            <span class="flex">
              <div class="accountContent">
                <h1>Account</h1>
                <span class="smalltext">pro</span>
              </div>

              <div class="buttonField" onclick="ClosModal(true)">
                upgrade to pro
              </div>
            </span>
            <div>
              <button class="buttonField">
                <span>name</span>
              </button>
            </div>
            <div>
              <button class="buttonField">
                <span>Manage sub scription</span>
              </button>
            </div>

            <div class="advanceOption">
              <span>Advance</span>
            </div>
          </div>
        </div>

        <div class="section right">
          <h1>usage</h1>
          <div class="usageFlex">
            <div>
              <section>
                <h2>usage (Last 30 days)</h2>
                <span class="flex">
                  <h2>premium models</h2>
                  <p>300/200</p>
                </span>
                <div class="fillBar"></div>
                <p>you have used 451 requests out of your 500 monthly quota</p>
              </section>
            </div>

            <div>
              <section>
                <h2>usage (Last 30 days)</h2>
                <span class="flex">
                  <h2>premium models</h2>
                  <p>300/200</p>
                </span>
                <div class="fillBar" style="--color: green"></div>
                <p>you have used 451 requests out of your 500 monthly quota</p>
              </section>
            </div>
          </div>

          <div class="container">
            <h2>settings</h2>

            <div class="flex">
              <p>
                Enable usage-based pricing
                <i class="fas fa-question-circle"></i>
              </p>
              <label class="switch">
                <input title="switch" type="checkbox" />
                <span class="slider"></span>
              </label>
            </div>

            <div class="flex">
              <p>
                Enable usage-based pricing
                <i class="fas fa-question-circle"></i>
              </p>
              <label class="switch">
                <input type="checkbox" />
                <span class="slider"></span>
              </label>
            </div>

            <span class="flex">
              <p>monthly spend limit</p>
              <input placeholder="30$" type="text" />
            </span>
          </div>
        </div>
      </div>

      <div class="modal" id="modal">
        <span class="closeModal" onclick="ClosModal(false)"
          ><i class="fa fa-times" aria-hidden="true"></i
        ></span>

        <div class="modalBody">
          <h1>Choose plan</h1>
          <div class="modalContent">
            <div class="plan">
              <span class="mostPopular">Most popular</span>

              <h1>year plan</h1>
              <p>49.99/<span>year</span></p>
              <button onclick="ChekOut('price_1QU7e0HHcvRSE91FWfsNMTGb')">
                chekout <span class="discount"> 58% Off</span>
              </button>
            </div>
            <div class="plan">
              <h1>month plan</h1>
              <p>9.99/<span>month</span></p>
              <button onclick="ChekOut('price_1QU7PgHHcvRSE91FcTzuytSc')">
                chekout
              </button>
            </div>
          </div>
        </div>
      </div>

<!-- 
      <div>
        <form title="login">
          <div>
            <label> email </label>
            <input class="inputField" name="email" title="email" type="email" />
            <label> password </label>
            <input
              class="inputField"
              name="password"
              title="password"
              type="password"
            />
          </div>
          <button type="submit" class="loginbtn">Login</button>
        </form>
      </div>
      -->
    
    </main>
  </body>
  <script>
    var userId = "01432707bd1676fc7f18d3b7dc41d218";
    var email = "rodrigo.valencia@epm.com.co";
    function ClosModal(state) {
      var modal = document.getElementById("modal");
      if (modal) {
        modal.style.display = state ? "flex" : "none";
      }
    }
    function getCredentials() {
      console.log("jjfjf");

      data = {
        user_id: "userId",
        email: "email",
        vscode_version: "0.1.31",
      };

      fetch("https://backend.withsix.co/vs-code/auth/login", {
        method: "POST",
        body: JSON.stringify({
          user_id: userId,
          email: email,
          vscode_version: "0.1.31",
        }),

        headers: {
          "Content-Type": "application/json",
        },
      })
        .then((response) => response.json())
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });
    }
    getCredentials();
    function ChekOut(price_Id) {

      data = {
        user_id: "userId",
        email: "email",
        vscode_version: "0.1.31",
      };

      fetch("https://backend.withsix.co/payment/create_checkout_url", {
        method: "POST",
        body: {
          name: email,
          email: email,
          price_id: price_Id,
          user_id: userId,
          payment_type: "stripe",
        },

        headers: {
          "Content-Type": "application/json",
          
        },
      })
        .then((response) => response.json())
        .then((data) => {
          console.log(data);
        })
        .catch((error) => {
          console.log(error);
        });
    }
  </script>
</html>
